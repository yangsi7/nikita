# Nikita: Don't Get Dumped - Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=development
DEBUG=true

# =============================================================================
# SUPABASE (PostgreSQL + pgVector + pg_cron)
# =============================================================================
# Project URL from Supabase dashboard
SUPABASE_URL=https://vlvlwmolfdpzdfmtipji.supabase.co

# Get these from your Supabase project settings â†’ API
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-key
SUPABASE_JWT_SECRET=your-jwt-secret

# Direct database connection (for SQLAlchemy)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:password@db.vlvlwmolfdpzdfmtipji.supabase.co:5432/postgres

# =============================================================================
# AI/LLM APIs
# =============================================================================
# Anthropic (Claude for text agent + scoring)
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
META_PROMPT_MODEL=anthropic:claude-3-5-haiku-20241022

# OpenAI (for embeddings only)
OPENAI_API_KEY=sk-...
EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# ELEVENLABS (Voice agent)
# =============================================================================
ELEVENLABS_API_KEY=your-elevenlabs-api-key

# Default agent ID (can be overridden per chapter/mood)
ELEVENLABS_DEFAULT_AGENT_ID=PB6BdkFkZLbI39GHdnbQ

# Meta-Nikita agent ID for onboarding (deprecated - use config override)
ELEVENLABS_META_NIKITA_AGENT_ID=

# Phone number ID for outbound calls (Spec 033)
ELEVENLABS_PHONE_NUMBER_ID=

# Webhook secret for HMAC verification
ELEVENLABS_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# TWILIO (Voice calls)
# =============================================================================
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# FIRECRAWL (Venue research for onboarding)
# =============================================================================
FIRECRAWL_API_KEY=your-firecrawl-api-key

# =============================================================================
# TELEGRAM
# =============================================================================
TELEGRAM_BOT_TOKEN=your-bot-token
# Set this to your Cloud Run URL when deploying
TELEGRAM_WEBHOOK_URL=https://nikita-xxxxx-uc.a.run.app/telegram/webhook
TELEGRAM_WEBHOOK_SECRET=your-webhook-secret-token

# =============================================================================
# BACKGROUND TASKS (pg_cron endpoints - Spec 052 BACK-06)
# =============================================================================
# Separate secret for task endpoints (security isolation from webhook secret)
TASK_AUTH_SECRET=your-task-auth-secret

# =============================================================================
# PORTAL (Vercel deployment)
# =============================================================================
PORTAL_URL=https://portal-phi-orcin.vercel.app
BACKEND_URL=https://nikita-api-xxxxx-uc.a.run.app

# =============================================================================
# API SERVER (Cloud Run)
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8080
# Comma-separated list of allowed origins
CORS_ORIGINS=["http://localhost:3000","https://portal-phi-orcin.vercel.app"]

# =============================================================================
# GAME SETTINGS
# =============================================================================
STARTING_SCORE=50.0
MAX_BOSS_ATTEMPTS=3

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable hierarchical prompt composition (Spec 021)
ENABLE_POST_PROCESSING_PIPELINE=true

# Unified pipeline (Spec 042, activated Spec 043)
UNIFIED_PIPELINE_ENABLED=true
UNIFIED_PIPELINE_ROLLOUT_PCT=100

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
# Comma-separated admin email addresses (in addition to @silent-agents.com domain)
ADMIN_EMAILS=admin@example.com,another@example.com
